import { PeerId, TypedEventEmitter } from "@libp2p/interface";
import { type IConnectionManager, Libp2p, Protocols } from "@waku/interfaces";
type PeerManagerConfig = {
    numPeersToUse?: number;
};
type PeerManagerParams = {
    libp2p: Libp2p;
    config?: PeerManagerConfig;
    connectionManager: IConnectionManager;
};
type SupportedProtocols = Protocols | "light-push-v2";
type GetPeersParams = {
    protocol: SupportedProtocols;
    pubsubTopic: string;
};
export declare enum PeerManagerEventNames {
    FilterConnect = "filter:connect",
    FilterDisconnect = "filter:disconnect",
    StoreConnect = "store:connect"
}
export interface IPeerManagerEvents {
    /**
     * Notifies about Filter peer being connected.
     */
    [PeerManagerEventNames.FilterConnect]: CustomEvent<PeerId>;
    /**
     * Notifies about Filter peer being disconnected.
     */
    [PeerManagerEventNames.FilterDisconnect]: CustomEvent<PeerId>;
    /**
     * Notifies about a Store peer being connected.
     */
    [PeerManagerEventNames.StoreConnect]: CustomEvent<PeerId>;
}
/**
 * @description
 * PeerManager is responsible for:
 * - finding available peers based on shard / protocols;
 * - notifying when peers for a specific protocol are connected;
 * - notifying when peers for a specific protocol are disconnected;
 */
export declare class PeerManager {
    readonly events: TypedEventEmitter<IPeerManagerEvents>;
    private readonly numPeersToUse;
    private readonly libp2p;
    private readonly connectionManager;
    private readonly lockedPeers;
    private readonly unlockedPeers;
    constructor(params: PeerManagerParams);
    start(): void;
    stop(): void;
    getPeers(params: GetPeersParams): Promise<PeerId[]>;
    renewPeer(id: PeerId, params: GetPeersParams): Promise<void>;
    isPeerOnPubsub(id: PeerId, pubsubTopic: string): Promise<boolean>;
    private onConnected;
    private onDisconnected;
    private hasPeerProtocol;
    private lockPeer;
    private isPeerLocked;
    private unlockPeer;
    private isPeerAvailableForUse;
    private dispatchFilterPeerConnect;
    private dispatchStorePeerConnect;
    private dispatchFilterPeerDisconnect;
    private getProtocolCodecs;
}
export {};
