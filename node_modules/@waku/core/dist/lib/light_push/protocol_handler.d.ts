import type { PeerId } from "@libp2p/interface";
import type { IEncoder, IMessage, LightPushCoreResult } from "@waku/interfaces";
import { LightPushError } from "@waku/interfaces";
import { Uint8ArrayList } from "uint8arraylist";
import { PushRpcV2 } from "./push_rpc.js";
import { PushRpc } from "./push_rpc_v3.js";
type VersionedPushRpc = ({
    version: "v2";
} & PushRpcV2) | ({
    version: "v3";
} & PushRpc);
type PreparePushMessageResult = {
    rpc: VersionedPushRpc;
    error: null;
} | {
    rpc: null;
    error: LightPushError;
};
export declare class ProtocolHandler {
    static preparePushMessage(encoder: IEncoder, message: IMessage, protocol: string): Promise<PreparePushMessageResult>;
    /**
     * Decode and evaluate a LightPush response according to the protocol version
     */
    static handleResponse(bytes: Uint8ArrayList, protocol: string, peerId: PeerId): LightPushCoreResult;
    private static handleV3Response;
    private static handleV2Response;
    private static createV2Rpc;
    private static createV3Rpc;
}
export {};
